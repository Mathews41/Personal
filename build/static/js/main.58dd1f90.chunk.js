(window["webpackJsonpclassictrucks2.0"]=window["webpackJsonpclassictrucks2.0"]||[]).push([[0],{35:function(e,t,a){e.exports=a.p+"static/media/IMG_2959.5073d13b.JPG"},59:function(e,t,a){e.exports=a(94)},64:function(e,t,a){},86:function(e,t,a){},88:function(e,t,a){},89:function(e,t,a){},90:function(e,t,a){},91:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(26),c=a.n(o),s=a(13),l=a(8),i=a(14),u=a(15),m=a(16),p=(a(64),a(29)),d=a(10),h=a(20),g=a(7),b=a.n(g),f=a(19);a(86);function E(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function v(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?E(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):E(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var O={user:{},allPosts:[],currentPost:{}},y="ADD_USER",j="SEARCH_USERS",N="SELECT_POST",C="ADD_POST",k="UPDATE_POSTS",P="RELOAD_USER";function S(e){return{type:y,payload:e}}var w=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).dataDisplay=function(e){return console.log(e),e.map((function(e,t){return console.log(e),r.a.createElement(f.b,{className:"link",to:"/post/".concat(e.id)},r.a.createElement("div",{className:"my-posts-container",key:t},r.a.createElement("div",{className:"userid"},e.userId),r.a.createElement("div",null,r.a.createElement("img",{className:"url",src:e.url})),r.a.createElement("div",{className:"title"},e.title," "),r.a.createElement("div",{className:"make"},e.make,"  "),r.a.createElement("div",{className:"model"},e.model),r.a.createElement("div",{className:"year"},e.year)))}))},e.searchBar=function(){var t=e.state.search;e.props.userId;b.a.get("/api/posts/:userid?title=".concat(t,"&userposts=").concat(!e.state.userposts)).then((function(t){e.setState({posts:t.data}),console.log(t.data)}))},e.flipPost=function(){e.setState({userposts:!e.state.userposts})},e.handleChange=function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))},e.getPosts=function(){b.a.get("/api/posts").then((function(t){e.setState({posts:t.data})}))},e.state={includeMyPosts:!0,displayPosts:[],filteredPosts:[],data:[]},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("api/post/getAll").then((function(t){var a=e.dataDisplay(t.data);console.log(t.data),e.setState({displayPosts:a}),e.setState({data:t.data}),console.log(e.state.data)}))}},{key:"render",value:function(){var e=this,t=[];return console.log(this.state.data),t=this.state.includeMyPosts?this.state.data:this.state.data.filter((function(t){return t.user_id!==e.props.state.user.id})),t=this.dataDisplay(t),console.dir(t),r.a.createElement("div",{className:"dashboard-container"},r.a.createElement("div",{className:"otherotherbox"},r.a.createElement("div",{className:"posts-container"},t)))}}]),t}(n.Component);var D=Object(h.b)((function(e){return e}),{searchUsers:function(e){return{type:j,payload:e}},addUser:S})(w),_=(a(88),a(35)),M=a.n(_),U=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).changeDisplay=function(){e.setState({display:!e.state.display,email:"",username:"",password:"",profile_pic:"",error:!1,errorMessage:""})},e.handleChange=function(t){e.setState(Object(d.a)({},t.target.name,t.target.value))},e.login=function(){var t=e.state,a=t.email,n=t.password;b.a.post("/auth/login",{email:a,password:n}).then((function(t){e.props.addUser(t.data),!0!==e.state.error&&e.props.history.push("/dashboard")})).catch((function(e){console.log(e)}))},e.register=function(){var t=e.state,a=t.email,n=t.username,r=t.password,o=t.profile_pic;b.a.post("/auth/register",{email:a,username:n,password:r,profile_pic:o}).then((function(t){console.log(t.data),e.props.addUser(t.data),e.props.history.push("/dashboard")})).catch((function(e){console.log(e)}))},e.state={display:!0,email:"",password:"",error:!1,errorMessage:""},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return console.log(this.props),r.a.createElement("div",{className:"otherbox"},r.a.createElement("div",{className:"auth-container"},this.state.error?r.a.createElement("div",{className:"error"},this.state.errorMessage):null,this.state.display?r.a.createElement("div",{className:this.state.error?"login-container shake":"login-container"},r.a.createElement("img",{className:"logo",src:M.a}),r.a.createElement("input",{type:"email",placeholder:" Email",className:"login-input",name:"email",value:this.state.email,onChange:this.handleChange}),r.a.createElement("input",{type:"password",placeholder:"Password",className:"login-input",name:"password",value:this.state.password,onChange:this.handleChange}),r.a.createElement("button",{className:"btn-login",onClick:this.login},"Login"),r.a.createElement("button",{className:"btn-register",onClick:this.changeDisplay},"Register")):r.a.createElement("div",{className:"register-container"},r.a.createElement("input",{type:"email",placeholder:" Email",className:"login-input",name:"email",value:this.state.email,onChange:this.handleChange}),r.a.createElement("input",{type:"password",placeholder:"Password",className:"login-input",name:"password",value:this.state.password,onChange:this.handleChange}),r.a.createElement("input",{type:"username",placeholder:"Username",className:"login-input",name:"username",value:this.state.username,onChange:this.handleChange}),r.a.createElement("input",{type:"profile_pic",placeholder:"Profile Picture URL",className:"login-input",name:"profile_pic",value:this.state.profile_pic,onChange:this.handleChange}),r.a.createElement("button",{className:"btn-login",onClick:this.register},"Signup"),r.a.createElement("button",{className:"btn-login",onClick:this.changeDisplay},"Cancel"))))}}]),t}(n.Component);var I=Object(h.b)((function(e){return e}),{addUser:S})(U),R=a(21),x=a(125),L=a(117),T=a(121),A=a(119),B=a(118),z=a(122),J=a(120);a(89);var Y=Object(p.f)((function(e){var t=Object(n.useState)(""),a=Object(R.a)(t,2),o=a[0],c=a[1],s=Object(n.useState)(""),l=Object(R.a)(s,2),i=l[0],u=l[1],m=Object(n.useState)(""),p=Object(R.a)(m,2),d=p[0],h=p[1],g=Object(n.useState)(""),f=Object(R.a)(g,2),E=f[0],v=f[1],O=Object(n.useState)(""),y=Object(R.a)(O,2),j=y[0],N=y[1],C=Object(n.useState)(""),k=Object(R.a)(C,2),P=k[0],S=k[1],w=Object(n.useState)(-1),D=Object(R.a)(w,2),_=D[0],M=D[1],U=Object(n.useState)(!1),I=Object(R.a)(U,2),Y=I[0],G=I[1],H=Object(n.useState)(null),q=Object(R.a)(H,2),F=(q[0],q[1]);return Object(n.useEffect)((function(){M(e.match.params.id),console.log(e.match),b.a.get("/api/post/".concat(_)).then((function(e){console.dir(e.data),F(e.data),c(e.data.url),u(e.data.make),h(e.data.model),v(e.data.year),N(e.data.title),S(e.data.content)}))}),[e.match,_]),r.a.createElement(x.a,{className:"card"},r.a.createElement(L.a,{id:"action-area"},Y?null:r.a.createElement(B.a,{className:"cardmedia",image:o,title:j}),r.a.createElement(A.a,{className:"cardContent"},Y?r.a.createElement("input",{className:"img",name:"picture",placeholder:"Image",onChange:function(e){return c(e.target.value)}}):null,Y?r.a.createElement("input",{name:"Title",placeholder:"Title",onChange:function(e){return N(e.target.value)}}):r.a.createElement(J.a,{gutterBottom:!0,variant:"h5",component:"h2"},j),Y?r.a.createElement("input",{className:"input",name:"Year",placeholder:"Year",onChange:function(e){return v(e.target.value)}}):r.a.createElement(J.a,{gutterBottom:!0,variant:"h5",component:"h2"},E),Y?r.a.createElement("input",{className:"input",name:"Make",placeholder:"Make",onChange:function(e){return u(e.target.value)}}):r.a.createElement(J.a,{gutterBottom:!0,variant:"h5",component:"h2"},i),Y?r.a.createElement("input",{className:"input",name:"Model",placeholder:"Model",onChange:function(e){return h(e.target.value)}}):r.a.createElement(J.a,{gutterBottom:!0,variant:"h5",component:"h2",size:"18pt"},d),Y?r.a.createElement("input",{name:"Content",placeholder:"Content",onChange:function(e){return S(e.target.value)}}):r.a.createElement(J.a,{variant:"body2",component:"p"},P))),r.a.createElement(T.a,{className:"cardbtns"},r.a.createElement("div",{className:"btns"},Y?r.a.createElement(z.a,{className:"btn",onClick:function(){b.a.get("/api/post/".concat(_)).then((function(e){console.dir(e.data),F(e.data),c(e.data.url),u(e.data.make),h(e.data.model),v(e.data.year),N(e.data.title),S(e.data.content)})),G(!1)},size:"small"},"Cancel"):r.a.createElement(z.a,{className:"btn",onClick:function(){return G(!Y)},size:"small"},"Edit"),Y?r.a.createElement(z.a,{onClick:function(){console.log(o,j,P),b.a.put("/api/post/".concat(_),{title:j,make:i,model:d,year:E,picture:o,content:P}).then((function(){b.a.get("/api/post/".concat(_)).then((function(e){console.dir(e.data),c(e.data.url),u(e.data.make),h(e.data.model),v(e.data.year),N(e.data.title),S(e.data.content),G(!1)}))}))},size:"small"},"Submit"):r.a.createElement(z.a,{className:"btn",onClick:function(){b.a.delete("/api/post/".concat(_)).then((function(){e.history.push("/dashboard")}))},size:"small"},"Delete"))))}));a(90);function G(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}var H=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).handleInput=function(t){console.log(t.target.value),e.setState(Object(d.a)({},t.target.name,t.target.value))},e.submitPost=function(){var t=e.state,a=t.user_id,n=t.title,r=t.name,o=t.make,c=t.model,s=t.year,l=t.URL,i=t.content,u=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?G(a,!0).forEach((function(t){Object(d.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):G(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}({},e.props.user,{user_id:a,title:n,name:r,make:o,model:c,year:s,URL:l,content:i});console.log(u),b.a.post("/api/post/add",u).then((function(t){console.log(t.data),e.props.history.push("/dashboard"),b.a.get("api/post/getAll").then((function(t){e.setState({displayPosts:t.data})}))}))},e.state={title:"",make:"",model:"",year:"",URL:"",content:""},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"form-background"},r.a.createElement("div",{className:"form-container"},r.a.createElement("div",{className:"form-input"},r.a.createElement("label",null,"Title"),r.a.createElement("input",{type:"text",name:"title",onChange:this.handleInput})),r.a.createElement("div",{className:"form-input"},r.a.createElement("label",null,"Make"),r.a.createElement("input",{type:"text",name:"make",onChange:this.handleInput})),r.a.createElement("div",{className:"form-input"},r.a.createElement("label",null,"Model"),r.a.createElement("input",{type:"text",name:"model",onChange:this.handleInput})),r.a.createElement("div",{className:"form-input"},r.a.createElement("label",null,"Year"),r.a.createElement("input",{type:"int",name:"year",onChange:this.handleInput})),r.a.createElement("div",{className:"form-input"},r.a.createElement("label",null,"URL"),r.a.createElement("input",{type:"text",name:"url",onChange:this.handleInput})),r.a.createElement("div",{className:"form-input"},r.a.createElement("label",null,"Content"),r.a.createElement("input",{type:"text",name:"content",onChange:this.handleInput})),r.a.createElement("button",{onClick:this.submitPost},"Submit")))}}]),t}(n.Component);var q=Object(h.b)((function(e){return e}),{addPost:function(e){return console.log(C),{type:C,payload:e}}})(H),F=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null)}}]),t}(n.Component),K=r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",component:I}),r.a.createElement(p.a,{path:"/dashboard",component:D}),r.a.createElement(p.a,{path:"/post/:id",component:Y}),r.a.createElement(p.a,{path:"/new",component:q}),r.a.createElement(p.a,{path:"/account",component:F})),Q=(a(91),a(54)),V=a.n(Q),W=a(124),X=a(123),Z=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).logout=function(){b.a.delete("/auth/logout")},e.slide=function(){e.setState({toggleMenu:!e.state.toggleMenu})},e.state={toggleMenu:!1},e}return Object(m.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;b.a.get("/auth/user").then((function(t){e.props.reloadUser(t.data)}))}},{key:"render",value:function(){return console.log(this.props.profile_pic),"/"!==this.props.location.pathname?r.a.createElement("div",{className:"navbar"},r.a.createElement("div",{className:"navbaritems"},r.a.createElement(X.a,{id:"avatar"},r.a.createElement(W.a,{alt:"profile",src:this.props.profile_pic,id:"avatar"})),r.a.createElement(f.b,{to:"/dashboard"},r.a.createElement("img",{className:"logo",src:M.a,alt:"logo"})),r.a.createElement(V.a,{className:"hamburger",onClick:this.slide})),r.a.createElement("div",{className:this.state.toggleMenu?"slide menu":"menu"},r.a.createElement(f.b,{to:"/dashboard"},r.a.createElement("div",{onClick:this.state.toggleMenu}," Dashboard")),r.a.createElement(f.b,{to:"/new"},"New Post"),r.a.createElement(f.b,{to:"/",onClick:this.logout},"Logout"))):null}}]),t}(n.Component);var $=Object(p.f)(Object(h.b)((function(e){var t=e.user;return{email:t.email,username:t.username,id:t.id,profile_pic:t.profile_pic}}),{reloadUser:function(e){return{type:P,payload:e}}})(Z)),ee=function(e){function t(){return Object(s.a)(this,t),Object(i.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"app-container"},r.a.createElement("div",{className:"nav-spacer"},r.a.createElement($,null)),r.a.createElement("div",{className:"mainContent"},K))}}]),t}(n.Component),te=a(34),ae=Object(te.b)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:O,t=arguments.length>1?arguments[1]:void 0;switch(console.log(t),t.type){case y:var a=v({},t.payload);return v({},e,{user:a});case P:case C:return v({},e,{user:t.payload});case k:return v({},e,{allPosts:t.payload});case N:return v({},e,{currentPost:t.payload});case j:default:return e}}));c.a.render(r.a.createElement(h.a,{store:ae},r.a.createElement(f.a,null,r.a.createElement(ee,null))),document.getElementById("root"))}},[[59,1,2]]]);
//# sourceMappingURL=main.58dd1f90.chunk.js.map